# aarkhang_microservices

[![Build Status](https://travis-ci.com/Otus-DevOps-2018-09/aarkhang_microservices.svg?branch=master)](https://travis-ci.com/Otus-DevOps-2018-09/aarkhang_microservices)

Otus DevOps 2018-09 Microservices repository.

## Домашнее задание #12    Docker 1

### Что сделано

- Освоены базовые команды для работы с Docker-контейнерами
    - запуск, остановка, подключение к контейнеру
    - запуск процесса в контейнере
    - создание образа из контейнера
    - получение информации об образах и контейнерах
    - удаление контейнеров и образов

- Изучался вывод команд **docker inspect** на предмет объяснения разницы между контейнером и образом. На этой основе разницу мне понять не удалось. Вывод этих команд слишком сильно отличается.

- Нашел эти объяснения в документации на официальном сайте.

[Docker concepts](https://docs.docker.com/get-started/)

#### Образы и контейнеры

Контейнер запускается путем запуска образа. **Образ** - это исполняемый пакет, который включает в себя все необходимое для запуска приложения - код, среду выполнения, библиотеки, переменные окружения и файлы конфигурации.
**Контейнер** - это экземпляр образа во время выполнения, то, чем образ становится в памяти при выполнении (то есть образ с состоянием или пользовательский процесс).

[Docker objects](https://docs.docker.com/engine/docker-overview/#docker-objects)

#### Образы
*Образ* - это доступный только для чтения шаблон с инструкциями по созданию контейнера Docker. Зачастую образ основан на другом образе с некоторыми дополнительными изменениями. Например, вы можете создать образ, который основан на образе Ubuntu, но устанавливает веб-сервер Apache и ваше приложение, а также сведения о конфигурации, необходимые для запуска вашего приложения.

Вы можете создавать свои собственные образы или использовать только те, которые созданы другими и опубликованы в реестре. Чтобы создать свой собственный образ, вы создаете Dockerfile с простым синтаксисом для определения шагов, необходимых для создания образа и его запуска. Каждая инструкция в Dockerfile создает слой в образе. Когда вы изменяете Dockerfile и перестраиваете образ, перестраиваются только те слои, которые были изменены. Это является частью того, что делает образы такими легкими, небольшими и быстрыми по сравнению с другими технологиями виртуализации.

#### Контейнеры
*Контейнер* - это работающий экземпляр образа. Вы можете создавать, запускать, останавливать, перемещать или удалять контейнер с помощью Docker API или CLI. Вы можете подключить контейнер к одной или нескольким сетям, прикрепить к нему хранилище или даже создать новый образ на основе его текущего состояния. По умолчанию контейнер относительно хорошо изолирован от других контейнеров и своего хост-компьютера. Вы можете контролировать, насколько сеть контейнера, хранилище или другие базовые подсистемы изолированы от других контейнеров или от хост-машины. Контейнер определяется его образом, а также любыми параметрами конфигурации, которые вы предоставляете ему при создании или запуске. При удалении контейнера любые изменения его состояния, которые не сохраняются в постоянном хранилище, исчезают.

[Container and layers](https://docs.docker.com/storage/storagedriver/#container-and-layers)
#### Контейнеры и слои
Основное различие между контейнером и образом заключается в верхнем доступном для записи слое. Все записи в контейнер, которые добавляют новые или изменяют существующие данные, хранятся в этом доступном для записи слое. При удалении контейнера записываемый слой также удаляется. Нижележащий образ остается неизменным.

